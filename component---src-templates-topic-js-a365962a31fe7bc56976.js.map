{"version":3,"sources":["webpack:///./src/styles/quotes-list.module.css","webpack:///./src/templates/topic.js","webpack:///./src/components/share-button.js","webpack:///./src/components/quote-image.js","webpack:///./src/styles/share-button.module.css","webpack:///./src/components/quotes-list.js"],"names":["module","exports","location","pageContext","data","title","topic","background","file","className","childImageSharp","undefined","heading","classNames","quotes","allMarkdownRemark","nodes","query","shareUrl","style","absoluteShareUrl","useAbsoluteUrl","styles","button","onClick","e","preventDefault","stopPropagation","window","open","encodeURIComponent","size","quote","onLoad","image","placeholder","backgroundColor","backgroundImage","patternFile","publicURL","backgroundRepeat","backgroundSize","opacity","map","key","fields","slug","to","text","excerpt","share"],"mappings":"iFACAA,EAAOC,QAAU,CAAC,OAAS,oCAAoC,MAAQ,mCAAmC,KAAO,kCAAkC,MAAQ,qC,kCCD3J,oJAWe,0BAAGC,EAAH,EAAGA,SAAUC,EAAb,EAAaA,YAAaC,EAA1B,EAA0BA,KAA1B,OACb,kBAAC,IAAD,CACEF,SAAUA,EACVG,MAAUF,EAAYG,MAAjB,UACLC,WACEH,EAAKI,KACH,kBAAC,IAAD,eACEC,UAAU,SACNL,EAAKI,KAAKE,uBAGlBC,EAEFC,QACE,kBAAC,IAAD,CAAQH,UAhBW,mCAiBjB,kBAAC,IAAD,KAAUN,EAAYG,SAI1B,kBAAC,IAAD,CAAQG,UAAWI,IArBE,kCAqB2B,sBAC9C,kBAAC,IAAD,CAAYC,OAAQV,EAAKW,kBAAkBC,WAM1C,IAAMC,EAAK,c,oCCrClB,2FAOe,gBAAqC,IAAlCC,EAAiC,EAAjCA,SAAUT,EAAuB,EAAvBA,UAAWU,EAAY,EAAZA,MAC/BC,EAAmBC,YAAeH,GAExC,OACE,4BACET,UAAWI,IAAW,eAAgBS,IAAOC,OAAQd,GACrDe,QAAS,SAAAC,GACPA,EAAEC,iBACFD,EAAEE,kBACFC,OAAOC,KACL,gDACED,OAAOE,mBAAmBV,GAC5B,MACA,yCAGJD,MAAOA,GAEP,kBAAC,IAAD,CAASY,KAAK,Y,kCCzBpB,8CAGe,oBAAGC,EAAH,EAAGA,MAAOC,EAAV,EAAUA,OAAV,OACbD,EAAME,MACJ,kBAAC,IAAD,eACEzB,UAAU,QACVwB,OAAQA,GACJD,EAAME,MAAMxB,kBAKlB,yBACED,UAAU,QACVU,MAAO,CACLZ,WAAYyB,EAAMG,YAAYC,kBAGhC,yBACE3B,UAAU,cACVU,MAAO,CACLkB,gBAAgB,OACPL,EAAMG,YAAYG,YAAYC,UADxB,IAEfC,iBAAkB,SAClBC,eAAgB,QAChBC,QAAS,S,qBCzBnB1C,EAAOC,QAAU,CAAC,OAAS,uC,oCCD3B,kFAOe,oBAAGa,EAAH,EAAGA,OAAH,OACb,yBAAKL,UAAWa,IAAOR,QACpBA,EAAO6B,KAAI,SAAAX,GAAK,OACf,kBAAC,IAAD,CACEY,IAAKZ,EAAMa,OAAOC,KAClBC,GAAIf,EAAMa,OAAOC,MAEjB,yBAAKrC,UAAWa,IAAOY,OACrB,kBAAC,IAAD,CAAYF,MAAOA,KAErB,yBAAKvB,UAAWa,IAAO0B,MACrB,8BACGhB,EAAMiB,UAGX,kBAAC,IAAD,CACE/B,SAAUc,EAAMa,OAAOC,KACvBrC,UAAWa,IAAO4B","file":"component---src-templates-topic-js-a365962a31fe7bc56976.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"quotes\":\"quotes-list-module--quotes--3anyO\",\"image\":\"quotes-list-module--image--2vGeJ\",\"text\":\"quotes-list-module--text---yJ4c\",\"share\":\"quotes-list-module--share--J_JBZ\"};","import React from 'react';\nimport { graphql } from 'gatsby';\nimport Img from 'gatsby-image';\nimport classNames from 'classnames';\n\nimport Page from '../components/page';\nimport QuotesList from '../components/quotes-list';\nimport { Heading, Column } from '../components/layout';\n\nconst COLUMN_CLASSNAME = 'col-12 col-lg-8 mt-lg-0 mx-auto';\n\nexport default ({ location, pageContext, data }) => (\n  <Page\n    location={location}\n    title={`${pageContext.topic} Quotes`}\n    background={\n      data.file ? (\n        <Img\n          className=\"h-100\"\n          {...data.file.childImageSharp}\n        />\n      ) :\n      undefined\n    }\n    heading={\n      <Column className={COLUMN_CLASSNAME}>\n        <Heading>{pageContext.topic}</Heading>\n      </Column>\n    }\n  >\n    <Column className={classNames(COLUMN_CLASSNAME, 'mt-3 ml-2 mt-lg-0')}>\n      <QuotesList quotes={data.allMarkdownRemark.nodes} />\n    </Column>\n  </Page>\n);\n\n// TODO: Find way to dedupe pruneLength.\nexport const query = graphql`\n  query($topic: String) {\n    allMarkdownRemark(\n      limit: 2000\n      filter: { frontmatter: { topics: { in: [$topic] } } }\n    ) {\n      # TODO: Refactor in GraphQL fragment.\n      nodes {\n        excerpt(pruneLength: 200)\n        fields {\n          slug\n        }\n        image {\n          childImageSharp {\n            # The maximum width at which a quote image may be rendered occurs\n            # when quote list has just been collapsed at 768px and the image\n            # appears scretched as a background across the quote text.\n            fluid(maxWidth: 768) {\n              ...GatsbyImageSharpFluid\n            }\n          }\n        }\n        placeholder {\n          patternFile {\n            publicURL\n          }\n          foregroundColor\n          backgroundColor\n        }\n      }\n    }\n    file(\n      sourceInstanceName: { eq: \"images\" }\n      relativeDirectory: { eq: \"topics\" }\n      name: { eq: $topic }\n    ) {\n      childImageSharp {\n        fluid(maxWidth: 1920) {\n          ...GatsbyImageSharpFluid\n        }\n      }\n    }\n  }\n`;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { MdShare } from 'react-icons/md';\n\nimport { useAbsoluteUrl } from '../utils/misc';\nimport styles from '../styles/share-button.module.css';\n\nexport default ({ shareUrl, className, style }) => {\n  const absoluteShareUrl = useAbsoluteUrl(shareUrl);\n\n  return (\n    <button\n      className={classNames('btn btn-link', styles.button, className)}\n      onClick={e => {\n        e.preventDefault();\n        e.stopPropagation();\n        window.open(\n          'https://www.facebook.com/sharer/sharer.php?u=' +\n            window.encodeURIComponent(absoluteShareUrl),\n          'pop',\n          'width=600, height=400, scrollbars=no',\n        );\n      }}\n      style={style}\n    >\n      <MdShare size=\"24px\" />\n    </button>\n  );\n};\n","import React from 'react';\nimport Img from 'gatsby-image';\n\nexport default ({ quote, onLoad }) => (\n  quote.image ? (\n    <Img\n      className=\"h-100\"\n      onLoad={onLoad}\n      {...quote.image.childImageSharp}\n    />\n  ) : (\n    // If quote does not have image, render a placeholder, consisting of a\n    // background solid color and foreground translucent pattern overlay.\n    <div\n      className=\"h-100\"\n      style={{\n        background: quote.placeholder.backgroundColor,\n      }}\n    >\n      <div\n        className=\"w-100 h-100\"\n        style={{\n          backgroundImage:\n            `url(${quote.placeholder.patternFile.publicURL})`,\n          backgroundRepeat: 'repeat',\n          backgroundSize: '160px',\n          opacity: 0.1,\n        }}\n      />\n    </div>\n  )\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"share-button-module--button--_xlUs\"};","import React from 'react';\nimport { Link } from 'gatsby';\n\nimport QuoteImage from './quote-image';\nimport ShareButton from './share-button';\nimport styles from '../styles/quotes-list.module.css';\n\nexport default ({ quotes }) => (\n  <div className={styles.quotes}>\n    {quotes.map(quote =>\n      <Link\n        key={quote.fields.slug}\n        to={quote.fields.slug}\n      >\n        <div className={styles.image}>\n          <QuoteImage quote={quote} />\n        </div>\n        <div className={styles.text}>\n          <span>\n            {quote.excerpt}\n          </span>\n        </div>\n        <ShareButton\n          shareUrl={quote.fields.slug}\n          className={styles.share}\n        />\n      </Link>\n    )}\n  </div>\n);\n"],"sourceRoot":""}